<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>JSON Song Object</title>
	<script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>
	<!--script language="javascript" src="animals.json"></script-->
	

</head>

<body>
	<script language="javascript">
	$.get( "hw7.json", 
		  
	      	function( data ) {
			str = JSON.stringify(data);
			document.write(str +"<br/>");
			document.write("<br/>" + "<br/>")
      obj = JSON.parse(str)
	for (i = 0; i < obj.length; i++) {
		document.write("Artists: ")
		for (j = 0; j < obj[i]["artists"].length; j++) {
			document.write(obj[i]["artists"][j] + ", ")	       
		}
		document.write("<br/>")
		document.write("Title: " + obj[i]["title"] + "<br/>")
		document.write("Genres: ")
		for (k = 0; k < obj[i]["genres"].length; k++) {
			document.write(obj[i]["genres"][k] + ", ")	       
		}
		document.write("<br/>")
		document.write("Released: " + obj[i]["year"] + "<br/>" + "<br/>")
		
	}
	document.write("<br/>" + "<br/>")
	var genreArray = []
	for (x = 0; x < obj.length; x++) {
		for (y = 0; y < obj[i]["genres"].length; y++) {
			genreArray.push(obj[i]["genres"][y])
		}
	}
	
	var t= "";
	t = "<select name='genreSelect'>";
	for (z=0; z<=genreArray.length; z++)
	   t += "<option>" + genreArray[z] + "</option>";
	t+= "</select>"; 

	document.write("<br/>")
	var chosenGenre = "";
	$('[name="genreSelect"]').on('change', function() { 
		chosenGenre = $('[name="genreSelect"]').val();
	})
	for (a = 0; a < obj.length; a++) {
		for (b = 0; b < obj[a]["genres"].length; b++) {
			if (obj[a]["genres"][b] == chosenGenre) {
				
				document.write("Artists: ")
				for (c = 0; c < obj[a]["artists"].length; c++) {
					document.write(obj[a]["artists"][c] + ", ")	       
				}
				document.write("<br/>")
				document.write("Title: " + obj[a]["title"] + "<br/>")
				document.write("Genres: ")
				for (d = 0; d < obj[a]["genres"].length; k++) {
					document.write(obj[a]["genres"][d] + ", ")	       
				}
				document.write("<br/>")
				document.write("Released: " + obj[a]["year"] + "<br/>" + "<br/>")
			}
		}
	}
	})
</script>
</body>
</html>

